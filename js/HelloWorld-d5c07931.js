var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,u=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,r=(e,r)=>{for(var n in r||(r={}))l.call(r,n)&&u(e,n,r[n]);if(a)for(var n of a(r))t.call(r,n)&&u(e,n,r[n]);return e};import{t as n,r as s,l as v,m as o,q as d,s as i,o as h,c as p,b as c,v as g,u as m,x as f,y as x,z as b,A as w,F as y,j as A,B as M,h as k,i as $}from"./main-8ae9fa05.js";const C={class:"border min-w-min w-min rounded-lg bg-white"},L={class:"p-4 w-60"},E={class:"w-full h-full",style:{"background-image":"linear-gradient(90deg, #fff, rgba(204, 154, 129, 0))"}},F={class:"w-52 flex my-2"},V={class:"w-8 h-8 rounded-lg",style:{background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAJElEQVQYV2NctWrVfwYkEBYWxojMZ6SDAmT7QGx0K1EcRBsFAADeG/3M/HteAAAAAElFTkSuQmCC') repeat"}},B={class:"flex items-center"},N={class:"flex"},S=c("p",{class:"text-center text-gray-500 text-sm"},"R",-1),U={class:"mx-1"},D=c("p",{class:"text-center text-gray-500 text-sm"},"G",-1),I={class:"mr-1"},Y=c("p",{class:"text-center text-gray-500 text-sm"},"B",-1),X=c("p",{class:"text-center text-gray-500 text-sm"},"A",-1),j={class:"mr-3"},O=c("p",{class:"text-gray-500 text-center text-sm"},"HEXA",-1),Q=["onClick"],R=[c("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},[c("path",{fill:"currentColor",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"})],-1)],G={key:0,class:"flex mt-2 flex-wrap px-1"},P=["onClick"],_={class:"h-full w-full rounded-full border-2 border-gray-200 p-0 relative"},W=["onClick"],H={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"h-6 w-6 text-slate-100"},K=[c("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)],T={key:1,class:"h-5 w-5 text-slate-100",viewBox:"0 0 24 24"},Z=[c("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},null,-1)],z={props:{modelValue:{type:String,default:"#00FF00"},swatches:{type:Array,default:()=>[]},hideSwatches:Boolean},emits:["update:modelValue","update:swatches","change","deleteSwatch","addSwatch"],setup(e,{emit:a}){const l=n(e);let t=s(null),u=s(null),k=s(null),$=s(null),z=s(null),J=s(null),q=s(!1),ee=s(!1),ae=s(!1),le=s(null),te=s(160),ue=s(0),re=s(208),ne=s(0),se=s(0),ve=s(0),oe=s(160),de=s(0),ie=s(0),he=s(0),pe=s(0),ce=s("rgba"),ge=s({r:255,g:219,b:0,a:1,hexa:"#FFFE00FF"}),me=s({r:0,g:0,b:0,a:1,hexa:"#000000FF"}),fe=s({r:0,g:0,b:0}),xe=s([]);const be=e=>{1===e.which&&(Xe(),le.value=Be.value,ee.value=!0,we(),t.value.style.transform=`translate(${e.offsetX}px, ${e.offsetY}px)`,he.value=e.offsetY/ve.value,pe.value=1-e.offsetX/re.value,Se(),e.stopPropagation(),e.preventDefault())},we=()=>{let e=k.value.getBoundingClientRect();ue.value=e.left;let a=u.value.getBoundingClientRect();ne.value=a.left,se.value=a.top,ve.value=a.height;let l=z.value.getBoundingClientRect();de.value=l.left},ye=e=>{if(e.length<0||e.length>1)return"0";if(isNaN(e)){return["A","B","C","D","E","F"].includes(e.toUpperCase())?e.toUpperCase():"0"}return e},Ae=e=>{if(!e||e.length<3)return"#000000FF";let a,l,t,u,r=e.toUpperCase();if(r.startsWith("#")&&(r=r.substr(1)),r.length<3)return"#000000FF";if(a=l=t="00",u="FF",3===r.length){let e=r.split("").map((e=>`0${e}`)).map((e=>ye(e)));a=e[0],l=e[1],t=e[2]}else if(r.length>=6){let e=r.split("").map((e=>ye(e)));a=e[0]+e[1],l=e[2]+e[3],t=e[4]+e[5],8===e.length&&(u=e[6]+e[7])}return`#${a}${l}${t}${u}`},Me=e=>{let a=Ae(e).substr(1).split(""),l=a[0]+a[1],t=a[2]+a[3],u=a[4]+a[5],r=a[6]+a[7];return{hexa:"#"+l+t+u+r,r:parseInt(l,16),g:parseInt(t,16),b:parseInt(u,16),a:parseInt(r,16)/255}},ke=e=>{let a=e.toString(16).toUpperCase();return 1==a.length?"0"+a:a},$e=()=>{let e=Number(ge.value.r),a=Number(ge.value.g),l=Number(ge.value.b),t=Number(ge.value.a);(isNaN(e)||null===e)&&(e=0),(isNaN(a)||null===a)&&(a=0),(isNaN(l)||null===l)&&(l=0),(isNaN(t)||null===t)&&(t=1),e=Math.min(255,Math.max(0,e)),a=Math.min(255,Math.max(0,a)),l=Math.min(255,Math.max(0,l)),t=Math.min(1,Math.max(0,t)),me.value.r=e,me.value.g=a,me.value.b=l,me.value.a=t,me.value.hexa="#"+ke(e)+ke(a)+ke(l)+ke(Math.round(255*t)),ge.value.hexa=me.value.hexa},Ce=()=>{we(),ie.value=me.value.a;let e=ie.value*oe.value;J.value.style.transform=`translate(${e}px, 0px)`;let a=(()=>{let e={r:null,g:null,b:null,variable:null},{r:a,g:l,b:t}=me.value;return t>l&&t>a?e.b=1:l>a&&l>t?e.g=1:e.r=1,a<l&&a<t?e.r=0:l<a&&l<t?e.g=0:e.b=0,Array.from("rgb").forEach((a=>{null===e[a]&&(e.variable=a,e[a]=me.value[a]/255)})),e})(),l=0,u=0;"r"===a.variable?1===a.g?(l=1,u=1-me.value.r/255):1===a.b&&(l=4,u=me.value.r/255):"b"===a.variable?1===a.r?(l=5,u=1-me.value.b/255):1===a.g&&(l=2,u=me.value.b/255):1===a.r?(l=0,u=me.value.g/255):1===a.b&&(l=3,u=1-me.value.g/255);let r=te.value/6,n=r*l+u*r;$.value.style.transform=`translate(${n}px, 0px)`,fe.value.r=Math.min(255,Math.max(0,Math.round(255*a.r))),fe.value.g=Math.min(255,Math.max(0,Math.round(255*a.g))),fe.value.b=Math.min(255,Math.max(0,Math.round(255*a.b))),Array.from("rgb").forEach((e=>{0===fe.value[e]?pe.value=me.value[e]/255:255===fe.value[e]&&(he.value=1-me.value[e]/255)}));let s=re.value*(1-pe.value),v=ve.value*he.value;t.value.style.transform=`translate(${s}px, ${v}px)`},Le=()=>{l.modelValue.value&&(ge.value=Me(l.modelValue.value)),l.hideSwatches.value||(()=>{if(null!==l.swatches.value&&Array.isArray(l.swatches.value))l.swatches.value.map((e=>Ae(e))).forEach((e=>{xe.value.includes(e)||xe.value.push(e)}));else{let e=["#f94144","#f3722c","#f8961e","#f9c74f","#90be6d","#43aa8b","#577590","#22223b","#4a4e69","#c9ada7"].map((e=>Ae(e)));xe.value=e}})(),$e(),Ce()};v((async()=>{await o((()=>{Le()}))}));const Ee=d({get:()=>l.modelValue.value,set:e=>a("update:modelValue",e)}),Fe=d((()=>xe.value.includes(Ee.value))),Ve=d((()=>`linear-gradient(to right, ${`rgba(${me.value.r}, ${me.value.g}, ${me.value.b}, 0)`}, ${`rgba(${me.value.r}, ${me.value.g}, ${me.value.b}, 1)`})`)),Be=d((()=>`rgba(${me.value.r}, ${me.value.g}, ${me.value.b}, ${me.value.a})`)),Ne=d((()=>`rgba(${fe.value.r}, ${fe.value.g}, ${fe.value.b}, 1)`)),Se=()=>{let e=255*(1-he.value);e=Math.min(255,Math.max(0,Math.round(e)));let a=e-fe.value.r,l=e-fe.value.g,t=e-fe.value.b,u=pe.value*a,r=pe.value*l,n=pe.value*t,s=fe.value.r+u,v=fe.value.g+r,o=fe.value.b+n;me.value.r=Math.min(e,Math.max(0,Math.round(s))),me.value.g=Math.min(e,Math.max(0,Math.round(v))),me.value.b=Math.min(e,Math.max(0,Math.round(o))),me.value.a=Math.min(1,Math.max(0,Number(ie.value.toFixed(2)))),ge.value.r=me.value.r,ge.value.g=me.value.g,ge.value.b=me.value.b,ge.value.a=me.value.a,me.value.hexa="#"+ke(me.value.r)+ke(me.value.g)+ke(me.value.b)+ke(Math.round(255*me.value.a)),ge.value.hexa=me.value.hexa,Ee.value=me.value.hexa},Ue=()=>{document.removeEventListener("mouseup",Ie),document.removeEventListener("mousemove",Ye)},De=e=>{let a=e/te.value,l=a%(1/6)/(1/6),t=1,u=1,r=1;a<1/6?(u=l,r=0):a<2/6?(t=1-l,r=0):a<.5?(t=0,r=l):a<4/6?(t=0,u=1-l):a<5/6?(t=l,u=0):(u=0,r=1-l),fe.value.r=Math.min(255,Math.max(0,Math.round(255*t))),fe.value.g=Math.min(255,Math.max(0,Math.round(255*u))),fe.value.b=Math.min(255,Math.max(0,Math.round(255*r)))},Ie=()=>{(q.value||ee.value||ae.value)&&le.value!==Be.value&&a("change",me.value.hexa),q.value=!1,ee.value=!1,ae.value=!1,Ue()},Ye=e=>{if(q.value){let a=e.pageX-ue.value;a=Math.min(te.value,Math.max(0,a)),$.value.style.transform=`translate(${a}px, 0px)`,De(a)}else if(ee.value){let a=e.pageX-ne.value,l=e.pageY-se.value;a=Math.min(re.value,Math.max(0,a)),l=Math.min(ve.value,Math.max(0,l)),t.value.style.transform=`translate(${a}px, ${l}px)`,he.value=l/ve.value,pe.value=1-a/re.value}else if(ae.value){let a=e.pageX-de.value;a=Math.min(oe.value,Math.max(0,a)),J.value.style.transform=`translate(${a}px, 0px)`,ie.value=a/oe.value}Se()},Xe=()=>{document.addEventListener("mouseup",Ie),document.addEventListener("mousemove",Ye)},je=e=>{1===e.which&&(Xe(),le.value=Be.value,q.value=!0,we(),$.value.style.transform=`translate(${e.offsetX}px, 0px)`,De(e.offsetX),Se(),e.stopPropagation(),e.preventDefault())},Oe=e=>{1===e.which&&(Xe(),le.value=Be.value,ae.value=!0,we(),J.value.style.transform=`translate(${e.offsetX}px, 0px)`,ie.value=e.offsetX/oe.value,Se(),e.stopPropagation(),e.preventDefault())},Qe=()=>{$e(),Ce()},Re=()=>{(()=>{let e=Me(ge.value.hexa);me.value=r({},e),ge.value.r=me.value.r,ge.value.g=me.value.g,ge.value.b=me.value.b,ge.value.a=me.value.a})(),Ce()},Ge=()=>{ge.value.r=me.value.r},Pe=()=>{ge.value.g=me.value.g},_e=()=>{ge.value.b=me.value.b},We=()=>{ge.value.a=me.value.a},He=()=>{ge.value.hexa=me.value.hexa},Ke=()=>{"rgba"===ce.value?ce.value="hexa":ce.value="rgba"},Te=()=>{var e;Fe.value?(e=Ee.value,xe.value=xe.value.filter((a=>a!==e)),a("update:swatches",xe.value),a("deleteSwatch",e)):(xe.value.push(Ee.value),a("update:swatches",xe.value),a("addSwatch",Ee.value))};return i((()=>{Ue()})),(l,n)=>(h(),p("div",C,[c("div",L,[c("div",{class:"w-52 h-40",style:g({backgroundColor:m(Ne)})},[c("div",E,[c("div",{ref_key:"canvas",ref:u,class:"w-full h-full relative cursor-pointer",style:{"background-image":"linear-gradient(0deg, #000, rgba(204, 154, 129, 0))"},onMousedown:be},[c("div",{ref_key:"canvasCursor",ref:t,class:"h-4 w-4 border border-gray-200 rounded-full bg-white absolute -left-2 -top-2 pointer-events-none",style:{"box-shadow":"2px 2px 2px 0 rgb(0 0 0 / 20%)"}},null,512)],544)])],4),c("div",F,[c("div",V,[c("div",{style:g({backgroundColor:m(Be)}),class:"w-full h-full rounded-lg"},null,4)]),c("div",null,[c("div",{ref_key:"line",ref:k,class:"w-40 h-3 ml-4 relative cursor-pointer rounded",style:{"background-image":"linear-gradient(90deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red)"},onMousedown:je},[c("div",{ref_key:"lineCursor",ref:$,class:"h-4 w-4 border border-gray-200 rounded-full bg-white absolute -left-2 pointer-events-none",style:{top:"-2px","box-shadow":"2px 2px 2px 0 rgb(0 0 0 / 20%)"}},null,512)],544),c("div",{ref_key:"opacityLine",ref:z,class:"w-40 h-3 ml-4 mt-2 relative cursor-pointer rounded",style:{background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAJElEQVQYV2NctWrVfwYkEBYWxojMZ6SDAmT7QGx0K1EcRBsFAADeG/3M/HteAAAAAElFTkSuQmCC') repeat"},onMousedown:Oe},[c("div",{class:"w-full h-full relative",style:g({background:m(Ve)})},[c("div",{ref_key:"opacityCursor",ref:J,class:"h-4 w-4 border border-gray-200 rounded-full bg-white absolute -left-2 pointer-events-none",style:{top:"-2px","box-shadow":"2px 2px 2px 0 rgb(0 0 0 / 20%)"}},null,512)],4)],544)])]),c("div",B,[f(c("div",N,[c("div",null,[S,f(c("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>m(ge).r=e),onInput:Qe,onBlur:Ge,class:"shadow appearance-none border rounded text-center w-10 h-8 text-grey-darker"},null,544),[[b,m(ge).r]])]),c("div",U,[D,f(c("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>m(ge).g=e),onInput:Qe,onBlur:Pe,class:"shadow appearance-none border rounded text-center w-10 h-8 text-grey-darker"},null,544),[[b,m(ge).g]])]),c("div",I,[Y,f(c("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>m(ge).b=e),onInput:Qe,onBlur:_e,class:"shadow appearance-none border rounded text-center w-10 h-8 text-grey-darker"},null,544),[[b,m(ge).b]])]),c("div",null,[X,f(c("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>m(ge).a=e),onInput:Qe,onBlur:We,class:"shadow appearance-none border rounded text-center w-10 h-8 text-grey-darker"},null,544),[[b,m(ge).a]])])],512),[[x,"rgba"===m(ce)]]),f(c("div",j,[O,f(c("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>m(ge).hexa=e),onInput:Re,onBlur:He,class:"shadow appearance-none border rounded text-center w-40 h-8 text-grey-darker"},null,544),[[b,m(ge).hexa]])],512),[[x,"hexa"===m(ce)]]),c("div",{class:"px-2 text-gray-500 cursor-pointer",onMousedown:n[5]||(n[5]=w((()=>{}),["prevent"])),onClick:w(Ke,["stop","prevent"])},R,40,Q)]),e.hideSwatches?M("",!0):(h(),p("div",G,[(h(!0),p(y,null,A(m(xe),(e=>(h(),p("div",{key:e,class:"w-8 h-8 m-1 relative cursor-pointer rounded-full shadow-md",style:g({backgroundColor:e}),onClick:l=>{return t=Me(e),me.value=r({},t),ge.value=r({},t),Ee.value=t.hexa,a("change",me.value.hexa),void Ce();var t}},[f(c("div",_,null,512),[[x,m(Ee)===e]])],12,P)))),128)),c("div",{class:"w-8 h-8 m-1 cursor-pointer rounded-full shadow-md text-gray-600 flex items-center justify-center",style:g({backgroundColor:m(Be)}),onClick:w(Te,["stop"])},[m(Fe)?(h(),p("svg",T,Z)):(h(),p("svg",H,K))],12,W)]))])]))}},J={setup(e){let a=s("#00FF00"),l=["#f94144","#f3722c","#f8961e","#f9c74f","#90be6d","#43aa8b","#577590","#22223b","#4a4e69","#c9ada7"];function t(e){}function u(e){}function r(e){}return(e,n)=>(h(),p("div",{class:"m-6",style:g({background:m(a)})},[k(m(z),{modelValue:m(a),"onUpdate:modelValue":n[0]||(n[0]=e=>$(a)?a.value=e:a=e),swatches:m(l),"onUpdate:swatches":n[1]||(n[1]=e=>$(l)?l.value=e:l=e),"hide-swatches":!1,onChange:t,onAddSwatch:u,onDeleteSwatch:r},null,8,["modelValue","swatches"])],4))}};export{J as default};
